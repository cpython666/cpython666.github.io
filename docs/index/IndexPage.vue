<template>
  <div class="section-container">
    <section id="first-section">

      <div id="bg" :style="{ backgroundImage: `url(${randomImage})` }">

      </div>

      <div id="big-bg">
        <div id="bg-overlay" :class="{ 'rotate-animation': randomImage === 'imgs/bg/small_videos.png' }"
             :style="{ backgroundImage: `url(${randomImage})` }">
          <!-- èƒŒæ™¯éƒ¨åˆ† -->
        </div>
        <div class="content">
          <div style="cursor: pointer" @click="openLink">
            <img id="index-logo" alt="æ˜Ÿæ¢¦èµ·èˆªï¼Œç‚¹å‡»è·³è½¬ï½" src="/logo.jpg">
          </div>
          <div id="box-cursor">
            <span id="box"></span>
          </div>
        </div>
      </div>
    </section>
    <section>
    </section>

  </div>

</template>

<script setup>
import {onBeforeUnmount, onMounted, ref} from 'vue';
import Typed from 'typed.js';
// å“åº”å¼æ•°æ®
const randomImage = ref('');
const openLink = () => {
  window.open('http://www.stardream.vip/', '_blank');
};
const changeBgHeight = () => {
  const header = document.querySelector('header');
  const bg = document.querySelector('#bg-overlay');
  console.log(header.clientHeight)

  const headerHeight = header.clientHeight;
  console.log(headerHeight)
  const bg1 = document.querySelector('#bg');
  // bg.style.height = `calc(100vh)`;
  // bg1.style.height = `calc(100vh)`;
  bg.style.height = `calc(100vh - ${headerHeight}px)`;
  bg1.style.height = `calc(100vh - ${headerHeight}px)`;


  console.log('èƒŒæ™¯å›¾ç‰‡é«˜åº¦', bg.clientHeight)
}
// å›¾ç‰‡åˆ—è¡¨
const images = [


  'imgs/bg/1.jpeg',
  'imgs/bg/2.jpeg',
  'imgs/bg/3.jpeg',
  'imgs/bg/4.jpeg',

];

// è·å–éšæœºå›¾ç‰‡
const getRandomImage = () => {
  const randomIndex = Math.floor(Math.random() * images.length);
  return images[randomIndex];
}

// è®¾ç½®éšæœºèƒŒæ™¯å›¾ç‰‡
const setRandomBackgroundImage = () => {
  const a = getRandomImage();
  randomImage.value = a;
}
onMounted(
    () => {
      const options = {
        strings: [
          'å°æ¬£ï¼Œä»Šå¤©å¼€å¿ƒå˜›~^2000',
          'å°æ¬£ï¼Œæ—©ä¸Šå¥½é¸­ï½^2000',
          'å‹‡æ•¢å°æ¬£ï¼Œä¸æ€•å›°éš¾ï¼Œå˜¿å˜¿!^5000',
        ],
        typeSpeed: 150,
        showCursor: true,
        cursorChar: '_ğŸŒŸ',
        loop: true,
        loopCount: 200
      };
      new Typed('#box', options);

      setRandomBackgroundImage()
      changeBgHeight()
      // ç›‘å¬çª—å£å¤§å°å˜åŒ–äº‹ä»¶
      window.addEventListener('resize', changeBgHeight);
    });
onBeforeUnmount(() => {
  window.removeEventListener('resize', changeBgHeight);
});
</script>

<style>
.container {
  padding: 0 !important;
  /* max-width:3000 !important; */
  margin: 0 !important;
}

body::-webkit-scrollbar {
  display: none;
  /* Safari å’Œ Chrome */
}

* {
  margin: 0;
  padding: 0;
}

#bg {
  height: 100vh;
  width: 100vw;
  position: absolute;
  justify-content: center;
  align-items: center;
  /* background-image: url('imgs/bg/small_1.jpg'); */
  /* background-image: url('imgs/bg/small_1.jpg'); */
  /* background-image: url('imgs/bg/1.jpg'); */
  /* background-size: cover; */
  /*background-size: 100 auto;*/
  /* background-size: cover; */
  background-position: center;
  background-repeat: no-repeat;

  color: white;
  filter: blur(5px);
  font-size: 36px;
  z-index: 1;
}

#big-bg {
  border-radius: 50px;
  height: 100vh;
  width: 100vw;
  display: flex;
  flex-direction: column;
  position: relative;
  justify-content: center;
  align-items: center;
  /* background-image: url('imgs/bg/small_2.png'); */
  /* background-image: url('imgs/bg/small_1.jpg'); */
  /* background-image: url('imgs/bg/1.jpg'); */
  background-size: contain;
  /* background-size: 100% auto; */
  /* background-size: cover; */
  background-position: center;
  color: white;
  font-size: 36px;
  z-index: 2;
  background-repeat: no-repeat;
}

#bg-overlay {
  position: absolute;
  top: 0;
  left: 0;
  border-radius: 50px;
  height: 100vh;
  width: 100vw;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  /* background-image: url('imgs/bg/small_2.png'); */
  /* background-image: url('imgs/bg/small_1.jpg'); */
  /* background-image: url('imgs/bg/1.jpg'); */
  background-size: contain;
  /* background-size: 100% auto; */
  /* background-size: cover; */
  background-position: center;
  color: white;
  font-size: 36px;
  z-index: 2;
  background-repeat: no-repeat;
  /* å¦‚æœæœ‰å…¶ä»–æ ·å¼ */
}

.content {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 3; /* ä¿è¯æ–‡å­—åœ¨æœ€ä¸Šå±‚ */
  /* å…¶ä»–æ–‡å­—æ ·å¼ */
}

#box {
  position: relative;
  width: auto;
  height: auto;
  border-radius: 20px;
  background: linear-gradient(to right bottom, rgba(162, 158, 158, 0.6), rgba(236, 228, 228, 0.1));
  backdrop-filter: blur(2px);
  box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.2);
  border-top: 1px solid rgba(255, 255, 255, 0.8);
  border-left: 1px solid rgba(255, 255, 255, 0.8);

  height: 55px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 6px 10px;
}

/* å®šä¹‰é—ªçƒå’Œç¼©æ”¾åŠ¨ç”» */
@keyframes blinkScale {

  0%,
  100% {
    opacity: 1;
    transform: scale(1);
    filter: drop-shadow(0 0 20px rgba(255, 255, 255, 1));

  }

  50% {
    opacity: 0.5;
    transform: scale(1.1);
    filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5));
  }
}

#index-logo {
  width: 100px;
  margin-top: -100px;
  margin-bottom: 20px;
  transition: all ease 0.5s;
  animation: blinkScale 3s infinite;

}

#index-logo:hover {
  animation: blinkScale 1.5s infinite;
}

#box-cursor {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}

@keyframes rotate {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.rotate-animation {
  animation: rotate 50s linear infinite;
}
</style>